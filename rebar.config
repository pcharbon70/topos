{erl_opts, [debug_info]}.

{deps, [
    {proper, "1.4.0"}
]}.

{plugins, [
    rebar3_proper
]}.

%% Pre-compile hooks for lexer generation
{pre_hooks, [
    {compile, "scripts/build_lexer.sh"}
]}.

{eunit_opts, [verbose]}.

{cover_enabled, true}.
{cover_opts, [verbose]}.

%% Coverage export configuration
{cover_export_enabled, true}.
{cover_excl_mods, [
    % Exclude generated modules from coverage
    topos_lexer_gen,
    topos_parser
]}.

%% PropEr configuration
{proper_opts, [
    {numtests, 100},        % Number of test cases per property
    {max_size, 20},         % Maximum size for generated data
    verbose,                 % Show progress
    {start_size, 1}         % Start with small test cases
]}.
